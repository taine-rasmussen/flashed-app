#!/bin/sh

# ğŸš« Block pushes to main or production
branch="$(git symbolic-ref --short HEAD)"
if [ "$branch" = "main" ] || [ "$branch" = "production" ]; then
  echo "âŒ Direct pushes to $branch are not allowed. Please use a pull request."
  exit 1
fi

# ğŸ” Type checking
npm run type-check || exit 1

# ğŸ¯ Lint + format staged files
npx lint-staged || exit 1
